{"filter":false,"title":"app.py","tooltip":"/CPP_Project/app.py","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":47,"column":0},"action":"insert","lines":["import os","","from flask import Flask, render_template, request, redirect, send_file, url_for","","from s3_demo import list_files, download_file, upload_file","","from flask_bootstrap import Bootstrap","","","app = Flask(__name__)","UPLOAD_FOLDER = \"uploads\"","BUCKET = \"s3app-600\"","bootstrap = Bootstrap(app)","","","@app.route('/')","def entry_point():","    return render_template('main.html')","    #return 'Hello World!'","","","@app.route(\"/storage\")","def storage():","   contents = list_files(\"s3app-600\")","   return render_template('storage.html', contents=contents)","","","@app.route(\"/upload\", methods=['POST'])","def upload():","    if request.method == \"POST\":","        f = request.files['file']","        f.save(f.filename)","        upload_file(f\"{f.filename}\", BUCKET)","","        return redirect(\"/storage\")","","","@app.route(\"/download/<filename>\", methods=['GET'])","def download(filename):","    if request.method == 'GET':","        output = download_file(filename, BUCKET)","","        return send_file(output, as_attachment=True)","","","if __name__ == '__main__':","     app.run(host='0.0.0.0', port=8080, debug=True)",""],"id":1}],[{"start":{"row":11,"column":10},"end":{"row":11,"column":19},"action":"remove","lines":["s3app-600"],"id":2},{"start":{"row":11,"column":10},"end":{"row":11,"column":30},"action":"insert","lines":["rb-test-myapp-bucket"]}],[{"start":{"row":23,"column":25},"end":{"row":23,"column":36},"action":"remove","lines":["\"s3app-600\""],"id":3},{"start":{"row":23,"column":25},"end":{"row":23,"column":31},"action":"insert","lines":["BUCKET"]}],[{"start":{"row":4,"column":11},"end":{"row":4,"column":12},"action":"remove","lines":["o"],"id":4},{"start":{"row":4,"column":10},"end":{"row":4,"column":11},"action":"remove","lines":["m"]},{"start":{"row":4,"column":9},"end":{"row":4,"column":10},"action":"remove","lines":["e"]},{"start":{"row":4,"column":8},"end":{"row":4,"column":9},"action":"remove","lines":["d"]},{"start":{"row":4,"column":7},"end":{"row":4,"column":8},"action":"remove","lines":["_"]}]]},"ace":{"folds":[],"scrolltop":192.9849414062499,"scrollleft":0,"selection":{"start":{"row":4,"column":7},"end":{"row":4,"column":7},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1607525626586,"hash":"a92eb3fa95eda7e94fe06e391eb115cb532044e1"}